CREATE TABLE `usk`.`members` ( `id` INT NOT NULL AUTO_INCREMENT , `first_name` VARCHAR(100) NOT NULL , `middle_name` VARCHAR(100) NULL DEFAULT NULL , `last_name` VARCHAR(100) NULL DEFAULT NULL , `phone_number` VARCHAR(20) NOT NULL , `dob` DATE NULL DEFAULT NULL , `uuid` VARCHAR(100) NOT NULL , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , `updated_at` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE `usk`.`payments` ( `id` INT NOT NULL AUTO_INCREMENT , `member_id` INT NOT NULL , `amount` FLOAT NOT NULL , `payment_reference` VARCHAR(100) NOT NULL , `payment_number` INT(20) NOT NULL , `payment_type` VARCHAR(50) NOT NULL , `remark` VARCHAR(20) NOT NULL , `added_by` INT NOT NULL , `approved_by` INT NOT NULL , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , `updated_at` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , PRIMARY KEY (`id`)) ENGINE = InnoDB;
ALTER TABLE `payments` ADD `payment_date` DATE NULL DEFAULT NULL AFTER `approved_by`;
ALTER TABLE `members` ADD `member_reg_id` VARCHAR(20) NULL DEFAULT NULL AFTER `dob`;
INSERT INTO `members` (`id`, `first_name`, `middle_name`, `last_name`, `phone_number`, `dob`, `member_reg_id`, `uuid`, `created_at`, `updated_at`) VALUES (NULL, 'Fochuu', 'Edes', 'Shayo', '255683130185', '2014-02-06', 'USK02', 'sdsesssss', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO `payments` (`id`, `member_id`, `amount`, `payment_reference`, `payment_number`, `payment_type`, `remark`, `added_by`, `approved_by`, `payment_date`, `created_at`, `updated_at`) VALUES (NULL, '1', '50000', 'stockyhdydyd', '255683', 'Stock', 'success', '1', '1', '2023-02-01', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);   
ALTER TABLE `users` ADD `member_id` INT NOT NULL AFTER `id`;
UPDATE `users` SET `member_id` = '1' WHERE `users`.`id` = 1;
